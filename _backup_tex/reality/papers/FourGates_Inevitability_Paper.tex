\documentclass[12pt,a4paper]{article}

% Packages (typography & layout)
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage[dvipsnames]{xcolor}

\usepackage{amsmath,amssymb,amsthm}
\usepackage{geometry}
\usepackage{booktabs}
\usepackage{parskip}
\usepackage{fancyhdr}

\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning}

% Hyperlinks (load after most packages)
\usepackage{hyperref}

% Page setup
\geometry{margin=1in}
\setlength{\headheight}{15pt}

% Header/footer
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textsc{Four Gates to Inevitability}}
\fancyhead[R]{\nouppercase{\leftmark}}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0pt}
\fancypagestyle{plain}{%
  \fancyhf{}
  \fancyfoot[C]{\thepage}
  \renewcommand{\headrulewidth}{0pt}
}

% Hyperref setup
\hypersetup{
    colorlinks=true,
    linkcolor=MidnightBlue,
    citecolor=MidnightBlue,
    urlcolor=MidnightBlue,
    pdfauthor={Jonathan Washburn},
    pdftitle={Four Gates to Inevitability},
    pdfsubject={Functional equations and cost composition},
    pdfkeywords={functional equation, d'Alembert, cosh, recognition composition law, RCL},
    bookmarksopen=true,
    bookmarksnumbered=true
}
\urlstyle{same}

% Small typography tweaks
\microtypesetup{protrusion=true, expansion=true}
\setlength{\emergencystretch}{2em}

% TikZ defaults
\tikzset{
  >={Stealth[length=2.2mm,width=1.4mm]},
  gate/.style={rectangle, rounded corners, draw=black!60, fill=black!3, minimum width=2.9cm, minimum height=1.05cm, align=center},
  result/.style={rectangle, rounded corners, draw=MidnightBlue!70, fill=MidnightBlue!8, thick, minimum width=4.3cm, minimum height=1.05cm, align=center}
}

% Theorem environments
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{hypothesis}[theorem]{Hypothesis}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Commands
\newcommand{\R}{\mathbb{R}}
\newcommand{\Rplus}{\mathbb{R}_{>0}}
\newcommand{\Jcost}{J}
\newcommand{\RCL}{\textup{RCL}}

\title{\vspace{-1cm}\textbf{Four Gates to Inevitability}\\[0.5em]
\large Characterizing the Recognition Composition Law via Functional Equations}
\author{Jonathan Washburn\\[0.3em]
Recognition Science Research Institute\\[0.5em]
\small Machine-verified in Lean 4 (\texttt{IndisputableMonolith})}
\date{January 2026}

\begin{document}

\maketitle


\begin{abstract}
We study multiplicatively consistent comparison costs $F:\Rplus\to\R$, i.e.\ those for which there exists an \emph{a priori} arbitrary combiner $P:\R^2\to\R$ satisfying
\[
F(xy)+F(x/y)=P(F(x),F(y))\qquad(x,y>0).
\]
A machine-verified counterexample shows that existence of \emph{some} such $P$ does not force the Recognition Composition Law (RCL), a calibrated form of the classical d'Alembert functional equation: the function $F(x)=\tfrac12(\log x)^2$ satisfies standard structural axioms yet admits the additive combiner $P(u,v)=2u+2v$.

We introduce four independently motivated ``gates''---interaction, entanglement, curvature, and d'Alembert structure---that separate the canonical cost $J(x)=\tfrac12(x+x^{-1})-1$ from this counterexample family. In the present formulation, the decisive closure is Gate~3 (curvature): once the constant-curvature postulate selects the normalized hyperbolic ODE $G''(t)=G(t)+1$ (excluding the flat branch by interaction/entanglement), the solution is uniquely fixed as $G(t)=\cosh(t)-1$ by calibration and symmetry. Gate~4 is then recorded as an explicit \emph{derived} structure: $H=G+1=\cosh$ automatically satisfies the d'Alembert functional equation.

We prove that under the gates, full inevitability follows: $F=J$ and $P(u,v)=2uv+2u+2v$ on $[0,\infty)^2$, with \emph{no} regularity assumptions on $P$ on that quadrant. Core results are machine-verified in Lean 4.
\end{abstract}

\medskip
\noindent\textbf{2020 Mathematics Subject Classification.} 39B52 (Functional equations for functions with more general domains and/or ranges), 39B22 (Functional equations involving cosh and sinh).

\noindent\textbf{Keywords.} Functional equations, d'Alembert functional equation, multiplicative consistency, four gates, inevitability, information geometry, machine verification, Lean 4.

\tableofcontents

\newpage

%==============================================================================
\section{Introduction}
%==============================================================================

\subsection{The Central Question}

Consider a fundamental mathematical structure: a \emph{cost function} $F(x)$ that measures how far a positive real number $x$ deviates from the reference value $1$. Such functions arise naturally in information theory (relative entropy, divergence measures) and the study of multiplicative groups \cite{Amari2000}. A natural question is: how should costs combine when we form products and quotients?

Specifically: if $x$ and $y$ each deviate from unity, how does the cost of the product $xy$ (and the quotient $x/y$) relate to the individual costs $F(x)$ and $F(y)$? We formalize this via \emph{multiplicative consistency}: the requirement that there exist a combiner function $P$ such that $F(xy)+F(x/y)=P(F(x),F(y))$.

The Recognition Composition Law (RCL) states that these costs combine as:
\begin{equation}\label{eq:RCL}
\Jcost(xy) + \Jcost(x/y) = 2\Jcost(x)\Jcost(y) + 2\Jcost(x) + 2\Jcost(y),
\end{equation}
where $\Jcost(x) = \frac{1}{2}(x + x^{-1}) - 1$. This is the multiplicative form of the classical \emph{d'Alembert functional equation} $f(t+u)+f(t-u)=2f(t)f(u)$, whose continuous solutions are $\cosh(\lambda t)$ for some $\lambda\in\R$ \cite{Aczel1966, Kuczma2009}. (This functional equation should not be confused with the d'Alembert wave equation $\partial^2 u/\partial t^2 = c^2\nabla^2 u$; the two are unrelated.)

Why \emph{this} law? The equation contains specific coefficients---all twos---and a specific coupling term $2\Jcost(x)\Jcost(y)$ that couples the two costs. What additional structure forces these coefficients?

Previous work established that the RCL is forced if one assumes the combiner is a low-degree polynomial. But critics correctly noted that this assumes too much about $P$. The polynomial restriction felt like smuggling in the answer.

\subsection{The Four Gates}

This paper takes a different approach. Instead of assuming properties of $P$, we identify four \emph{minimal requirements}---gates that a meaningful comparison law must satisfy. Each gate is independently motivated. In the present formulation, Gate~4 (d'Alembert structure) is not an additional restriction beyond Gate~3 (curvature); rather, it is a classical identity that becomes automatic once the hyperbolic branch is selected.

\begin{center}
{\small
\begin{tabular}{@{}clp{6.5cm}@{}}
\toprule
\textbf{Gate} & \textbf{Name} & \textbf{Meaning} \\
\midrule
1 & Interaction & The whole is not the sum of its parts \\
2 & Entanglement & Costs couple irreducibly \\
3 & Curvature & Log-coordinate geometry is hyperbolic \\
4 & d'Alembert (derived) & Shifted log-lift satisfies $H(t+u)+H(t-u)=2H(t)H(u)$ \\
\bottomrule
\end{tabular}
}
\end{center}

The power of this approach is \emph{quadrilateral convergence}: four perspectives converge on the same target structure. In the present formulation, Gate~3 provides the decisive closure (constant curvature with a normalized hyperbolic branch), while Gate~4 serves as a compact cross-check and an explicit link to the classical functional equation viewpoint.

\subsection{The Counterexample}

A key motivation for this work is a counterexample showing that mere multiplicative consistency is insufficient to determine $P$.

The function
\[
F(x) = \frac{1}{2}(\log x)^2
\]
satisfies all structural axioms---symmetry under inversion, normalization at unity, smoothness, calibration---and admits a perfectly well-defined combiner $P(u,v) = 2u + 2v$. 

The combiner $P(u,v)=2u+2v$ is fundamentally different from the RCL combiner $P(u,v)=2uv+2u+2v$: it lacks the cross-term $2uv$.

This counterexample is machine-verified. It proves that the basic structural axioms alone are \emph{insufficient} to force the RCL. Additional conditions are needed---and the three gates formalize such conditions.

\begin{center}
{\small
\begin{tabular}{@{}lcc@{}}
\toprule
\textbf{Property} & \textbf{Canonical $\Jcost$} & \textbf{Counterexample} \\
\midrule
Interaction & \checkmark & $\times$ \\
Entanglement & \checkmark & $\times$ \\
Hyperbolic ODE & \checkmark & $\times$ \\
d'Alembert structure & \checkmark & $\times$ \\
\bottomrule
\end{tabular}
}
\end{center}

The counterexample fails all four gates, while the canonical cost $\Jcost$ satisfies all four.

%==============================================================================
\section{Preliminaries}
%==============================================================================

\subsection{Definitions}

\begin{definition}[Cost Function]
\label{def:cost_function}
A \emph{cost function} $F: \Rplus \to \R$ measures the cost of deviation from unity, satisfying:
\begin{enumerate}
\item \textbf{Normalization}: $F(1) = 0$
\item \textbf{Symmetry}: $F(x) = F(1/x)$ for all $x > 0$
\item \textbf{Smoothness}: the log-lift $G(t)=F(e^t)$ is $C^2$ on $\R$
\item \textbf{Calibration}: $G''(0) = 1$ where $G(t) = F(e^t)$
\end{enumerate}
\end{definition}

\begin{definition}[Multiplicative Consistency]
$F$ is \emph{multiplicatively consistent} if there exists $P: \R^2 \to \R$ such that
\[
F(xy) + F(x/y) = P(F(x), F(y)) \quad \text{for all } x, y > 0.
\]
\end{definition}

\begin{definition}[Log-Lift]
For a cost function $F$, define $G: \R \to \R$ by $G(t) = F(e^t)$ and $H(t) = G(t) + 1$.
\end{definition}

\begin{lemma}[Symmetry implies an even log-lift]\label{lem:G_even}
If $F(x)=F(1/x)$ for all $x>0$ and $G(t)=F(e^t)$, then $G$ is even: $G(t)=G(-t)$ for all $t\in\R$.
In particular, if $G$ is differentiable at $0$ then $G'(0)=0$.
\end{lemma}

\begin{proof}
For any $t\in\R$,
\[
G(-t)=F(e^{-t})=F\!\left(\frac{1}{e^t}\right)=F(e^t)=G(t),
\]
so $G$ is even. If $G$ is differentiable at $0$, then
\[
G'(0)=\lim_{h\to 0}\frac{G(h)-G(0)}{h}
\quad\text{and}\quad
G'(0)=\lim_{h\to 0}\frac{G(-h)-G(0)}{-h},
\]
but $G(-h)=G(h)$ by evenness, so the two expressions differ by a minus sign; hence they must both equal $0$.
\end{proof}

\subsection{The Canonical Cost}

\begin{definition}[Canonical Cost]
$\Jcost(x) = \frac{1}{2}(x + x^{-1}) - 1$.
\end{definition}

The log-lift is $G_\Jcost(t) = \cosh(t) - 1$, and the RCL combiner is $P(u,v) = 2uv + 2u + 2v$.

%==============================================================================
\section{Gate 1: The Interaction Gate}
%==============================================================================

\subsection{Definition}

\begin{definition}[Interaction]
A cost function $F$ has \emph{interaction} if there exist $x, y > 0$ such that
\[
F(xy) + F(x/y) \neq 2F(x) + 2F(y).
\]
\end{definition}

The negation---no interaction---means $F(xy) + F(x/y) = 2F(x) + 2F(y)$ for all $x, y > 0$. In particular, if $F$ is multiplicatively consistent with some $P$, then on the range of $F$ the combiner behaves additively:
\[
P(F(x),F(y))=2F(x)+2F(y)\qquad(x,y>0).
\]

\subsection{Main Results}

\begin{theorem}[$\Jcost$ Has Interaction]\label{thm:J-interaction}
The canonical cost $\Jcost(x)=\frac12(x+x^{-1})-1$ has interaction. For example, at $x=y=2$:
\[
\Jcost(4) + \Jcost(1) \neq 2\Jcost(2) + 2\Jcost(2).
\]
\end{theorem}

\begin{proof}
We compute:
\[
\Jcost(1)=\tfrac12(1+1)-1=0,
\qquad
\Jcost(2)=\tfrac12\!\left(2+\tfrac12\right)-1=\tfrac54-1=\tfrac14,
\]
and
\[
\Jcost(4)=\tfrac12\!\left(4+\tfrac14\right)-1=\tfrac12\cdot\tfrac{17}{4}-1=\tfrac{17}{8}-1=\tfrac98.
\]
Therefore
\[
\Jcost(4)+\Jcost(1)=\tfrac98+0=\tfrac98
\quad\text{but}\quad
2\Jcost(2)+2\Jcost(2)=4\cdot\tfrac14=1,
\]
so $\Jcost(4)+\Jcost(1)\neq 2\Jcost(2)+2\Jcost(2)$. This witnesses interaction.
\end{proof}

\begin{theorem}[Counterexample Has No Interaction]\label{thm:Fquad-no-interaction}
Let $F(x) = \frac{1}{2}(\log x)^2$. Then for all $x, y > 0$:
\[
F(xy) + F(x/y) = 2F(x) + 2F(y).
\]
\end{theorem}

\begin{proof}
Direct calculation:
\begin{align*}
F(xy) + F(x/y) &= \frac{1}{2}(\log x + \log y)^2 + \frac{1}{2}(\log x - \log y)^2 \\
&= \frac{1}{2}[(\log x)^2 + 2\log x \log y + (\log y)^2] \\
&\quad + \frac{1}{2}[(\log x)^2 - 2\log x \log y + (\log y)^2] \\
&= (\log x)^2 + (\log y)^2 \\
&= 2F(x) + 2F(y). \qedhere
\end{align*}
\end{proof}

\subsection{Interpretation}

The interaction gate formalizes a notion of \emph{non-additivity}. In information geometry \cite{Amari2000}, additive cost functions correspond to flat manifolds (e.g., Euclidean metrics), while non-additive ones suggest curvature. The counterexample $F(x) = \frac{1}{2}(\log x)^2$ corresponds to the Euclidean squared distance in log-coordinates, representing a system where components decouple perfectly. The interaction gate rejects this flatness.

%==============================================================================
\section{Gate 2: The Entanglement Gate}
%==============================================================================

\subsection{Definition}

\begin{definition}[Entanglement]
\label{def:entanglement}
A combiner $P: \R^2 \to \R$ is \emph{entangling} if there exist $u_0, v_0, u_1, v_1 \in \R$ such that
\[
P(u_1, v_1) - P(u_1, v_0) - P(u_0, v_1) + P(u_0, v_0) \neq 0.
\]
This is the \emph{mixed second difference} \cite{AczelDhombres}, which for smooth $P$ approximates $\frac{\partial^2 P}{\partial u \partial v}$ (and equals it in the limit as the grid shrinks).
\end{definition}

\begin{definition}[Separability]
$P$ is \emph{separable} if $P(u, v) = \alpha(u) + \beta(v)$ for some functions $\alpha, \beta$.
\end{definition}

\begin{lemma}[Separability implies no entanglement]\label{lem:separable_not_entangling}
If $P$ is separable, then $P$ is not entangling; equivalently, if $P$ is entangling, then it is not separable.
\end{lemma}

\begin{proof}
Assume $P(u,v)=\alpha(u)+\beta(v)$. Then for any $u_0,u_1,v_0,v_1\in\R$ we have
\begin{align*}
&P(u_1,v_1)-P(u_1,v_0)-P(u_0,v_1)+P(u_0,v_0)\\
&\qquad=\bigl(\alpha(u_1)+\beta(v_1)\bigr)-\bigl(\alpha(u_1)+\beta(v_0)\bigr)-\bigl(\alpha(u_0)+\beta(v_1)\bigr)+\bigl(\alpha(u_0)+\beta(v_0)\bigr)=0.
\end{align*}
Hence no choice of $(u_0,v_0,u_1,v_1)$ yields a nonzero mixed second difference, so $P$ is not entangling.
\end{proof}

\begin{lemma}[A convenient form when $P$ is not entangling]\label{lem:not_entangling_decomp}
If $P$ is not entangling, then for all $u,v\in\R$,
\[
P(u,v)=P(u,0)+P(0,v)-P(0,0).
\]
In particular, $P$ is separable with $\alpha(u)=P(u,0)$ and $\beta(v)=P(0,v)-P(0,0)$.
\end{lemma}

\begin{proof}
``Not entangling'' means that for all $u_0,u_1,v_0,v_1\in\R$ the mixed second difference is zero:
\[
P(u_1,v_1)-P(u_1,v_0)-P(u_0,v_1)+P(u_0,v_0)=0.
\]
Apply this with $u_0=0$, $v_0=0$, $u_1=u$, $v_1=v$ to obtain
\[
P(u,v)-P(u,0)-P(0,v)+P(0,0)=0,
\]
which rearranges to the desired identity.
\end{proof}

\subsection{Main Results}

\begin{theorem}[RCL Is Entangling]\label{thm:RCL-entangling}
The RCL combiner $P(u,v) = 2uv + 2u + 2v$ is entangling:
\[
P(1,1) - P(1,0) - P(0,1) + P(0,0) = 6 - 2 - 2 + 0 = 2 \neq 0.
\]
\end{theorem}

\begin{proof}
Let $P(u,v)=2uv+2u+2v$. Taking $(u_0,v_0,u_1,v_1)=(0,0,1,1)$ gives
\[
P(1,1)-P(1,0)-P(0,1)+P(0,0)=6-2-2+0=2\neq 0,
\]
so $P$ is entangling by Definition~\ref{def:entanglement}.
\end{proof}

\begin{theorem}[Additive Combiner Is Not Entangling]\label{thm:Padd-not-entangling}
The combiner $P(u,v) = 2u + 2v$ is separable (hence not entangling):
\[
P(u_1, v_1) - P(u_1, v_0) - P(u_0, v_1) + P(u_0, v_0) = 0 \text{ for all } u_0, v_0, u_1, v_1.
\]
\end{theorem}

\begin{proof}
Write $P(u,v)=2u+2v=\alpha(u)+\beta(v)$ with $\alpha(u)=2u$ and $\beta(v)=2v$. By Lemma~\ref{lem:separable_not_entangling}, $P$ is not entangling.
\end{proof}

\begin{lemma}[Boundary values forced by the axioms]\label{lem:P_boundary_values}
Assume $F(1)=0$ and multiplicative consistency:
\[
F(xy)+F(x/y)=P(F(x),F(y))\qquad(x,y>0).
\]
Then for all $x>0$,
\[
P(F(x),0)=2F(x).
\]
If in addition $F$ is symmetric ($F(y)=F(1/y)$), then for all $y>0$,
\[
P(0,F(y))=2F(y).
\]
In particular, $P(0,0)=0$.
\end{lemma}

\begin{proof}
Set $y=1$ in multiplicative consistency. Since $F(1)=0$ and $x/1=x$, this gives
\[
F(x)+F(x)=P(F(x),F(1))=P(F(x),0),
\]
so $P(F(x),0)=2F(x)$.

Now set $x=1$. Then $1\cdot y=y$ and $1/y=y^{-1}$, so
\[
F(y)+F(y^{-1})=P(F(1),F(y))=P(0,F(y)).
\]
If $F$ is symmetric, $F(y^{-1})=F(y)$, hence $P(0,F(y))=2F(y)$. Finally, taking $x=y=1$ yields
\[
0=F(1)+F(1)=P(0,0).
\]
\end{proof}

\begin{theorem}[Interaction Forces Entanglement]\label{thm:interaction-entanglement}
Let $F$ be a cost function with symmetry, normalization, and multiplicative consistency with combiner $P$. If $F$ has interaction, then $P$ is entangling.
\end{theorem}

\begin{proof}
Assume, for contradiction, that $P$ is not entangling. By Lemma~\ref{lem:not_entangling_decomp}, for all $u,v\in\R$,
\[
P(u,v)=P(u,0)+P(0,v)-P(0,0).
\]
Apply this with $u=F(x)$ and $v=F(y)$. Using Lemma~\ref{lem:P_boundary_values} (which follows from normalization, symmetry, and consistency), we obtain for all $x,y>0$:
\[
P(F(x),F(y))=P(F(x),0)+P(0,F(y))-P(0,0)=2F(x)+2F(y)-0.
\]
By multiplicative consistency,
\[
F(xy)+F(x/y)=P(F(x),F(y))=2F(x)+2F(y)\qquad(x,y>0),
\]
which says $F$ has no interaction. This contradicts the interaction hypothesis. Therefore $P$ must be entangling.
\end{proof}

\subsection{Interpretation}

The entanglement gate formalizes non-separability at the level of the combiner. A combiner $P(u,v)$ is separable if it can be written as $\alpha(u)+\beta(v)$ for some functions $\alpha,\beta$; otherwise it is entangling. This condition is related to the vanishing of the mixed partial derivative $\partial^2 P/\partial u \partial v$.

The RCL combiner is:
\[
P(u,v) = 2uv + 2u + 2v.
\]
The cross-term $2uv$ ensures $\partial^2 P/\partial u \partial v = 2 \neq 0$. This coupling is essential for any theory where the cost of a composite system depends on the interaction between its components.

The counterexample's combiner $P(u,v) = 2u + 2v$ is separable ($\partial^2 P = 0$). It factors into independent contributions. By Theorem~\ref{thm:interaction-entanglement}, this separability is precisely why the counterexample lacks interaction.

%==============================================================================
\section{Gate 3: The Curvature Gate}
%==============================================================================

\subsection{ODE Classification}

Gate~3 is a geometric closure condition. Rather than deriving an ODE from multiplicative consistency (the remaining analytic gap), we postulate that the recognition metric in log-coordinates has constant curvature; in our formalization this is captured by one of three canonical ODE types for the log-lift $G(t)=F(e^t)$:

\begin{definition}[Curvature Types]
\label{def:curvature_types}
\begin{enumerate}
\item \textbf{Flat} ($\kappa = 0$): $G''(t) = 1$ for all $t$
\item \textbf{Hyperbolic} ($\kappa = -1$): $G''(t) = G(t) + 1$ for all $t$
\item \textbf{Spherical} ($\kappa = +1$): $G''(t) = -(G(t) + 1)$ for all $t$
\end{enumerate}
\end{definition}

\subsection{Main Results}

\begin{theorem}[Canonical Cost Is Hyperbolic]\label{thm:J-hyperbolic}
Let $G(t) = \cosh(t) - 1$. Then $G''(t) = \cosh(t) = G(t) + 1$.
\end{theorem}

\begin{proof}
We have $G'(t)=\sinh(t)$ and $G''(t)=\cosh(t)$. Since $G(t)+1=\cosh(t)-1+1=\cosh(t)$, it follows that $G''(t)=G(t)+1$ for all $t$.
\end{proof}

\begin{theorem}[Counterexample Is Flat]\label{thm:Fquad-flat}
Let $G(t) = t^2/2$. Then $G''(t) = 1$.
\end{theorem}

\begin{proof}
Differentiate: $G'(t)=t$ and $G''(t)=1$ for all $t$.
\end{proof}

\begin{lemma}[Flat ODE forces the quadratic log-cost]\label{lem:flat_forces_quad}
Let $G:\R\to\R$ be twice differentiable and assume
\[
G''(t)=1\ \text{for all }t\in\R,\qquad G(0)=0,\qquad G'(0)=0.
\]
Then $G(t)=t^2/2$ for all $t\in\R$. Consequently, the associated cost function $F(x)=G(\log x)$ satisfies $F(x)=\tfrac12(\log x)^2$.
\end{lemma}

\begin{proof}
Integrating $G''(t)=1$ gives $G'(t)=t+C$ for some constant $C$. Evaluating at $t=0$ yields $0=G'(0)=C$, hence $G'(t)=t$.
Integrating again gives $G(t)=t^2/2+D$ for some constant $D$. Evaluating at $t=0$ yields $0=G(0)=D$, hence $G(t)=t^2/2$.
The final statement follows by substitution $t=\log x$.
\end{proof}

\begin{theorem}[Spherical Is Ruled Out by Calibration]\label{thm:spherical-ruled-out}
If $G''(t) = -(G(t) + 1)$ and $G(0) = 0$, then $G''(0) = -1$. But calibration requires $G''(0) = 1$. Contradiction.
\end{theorem}

\begin{proof}
Evaluate the ODE at $t=0$:
\[
G''(0)=-(G(0)+1)=-(0+1)=-1.
\]
This contradicts the calibration requirement $G''(0)=1$.
\end{proof}

\begin{corollary}[Curvature Dichotomy]
Among the three constant-curvature ODE types in Definition~\ref{def:curvature_types}, calibration rules out the spherical case. Thus the remaining possibilities are:
\begin{enumerate}
\item Flat ($G'' = 1$): the counterexample family
\item Hyperbolic ($G'' = G + 1$): the canonical cost
\end{enumerate}
\end{corollary}

\begin{proof}
By Theorem~\ref{thm:spherical-ruled-out}, the spherical ODE $G''=-(G+1)$ is incompatible with calibration $G''(0)=1$ (and $G(0)=0$). Therefore only the flat and hyperbolic ODE types remain among the three listed in Definition~\ref{def:curvature_types}.
\end{proof}

\subsection{Interpretation}

The curvature gate is naturally interpreted in the context of \emph{information geometry}, where cost functions induce metric structures on probability manifolds.

The three ODE families correspond to the three constant-curvature geometries in 1D:
\begin{itemize}
\item \textbf{Flat} ($\kappa = 0$): $G(t) \sim t^2$. Euclidean geometry. This corresponds to the Gaussian (normal) distribution with fixed variance, where the Fisher information metric is flat.
\item \textbf{Hyperbolic} ($\kappa = -1$): $G(t) \sim \cosh t$. Hyperbolic geometry. This structure appears in the study of exponential families and the geometry of statistical manifolds \cite{Amari2000}.
\item \textbf{Spherical} ($\kappa = +1$): $G(t) \sim \cos t$. Spherical geometry.
\end{itemize}

The counterexample corresponds to the flat case. Interaction rules out this flatness, forcing the geometry to be non-Euclidean. Calibration then selects the hyperbolic branch over the spherical one.

%==============================================================================
\section{Gate 4: The d'Alembert Structure Gate}
%==============================================================================

\subsection{Role of Gate 4 in the Present Formulation}

In earlier drafts, we presented d'Alembert structure as an \emph{additional} gate that ``pins down the coefficient.'' In the present formulation, this is no longer its logical role:
\begin{itemize}
\item Gate~3 (curvature) postulates a \emph{normalized} constant-curvature closure, with the hyperbolic branch expressed directly as $G''(t)=G(t)+1$.
\item Under the structural axioms (evenness from symmetry, normalization, and calibration), that ODE already has a unique solution: $G(t)=\cosh(t)-1$ (see Proposition~\ref{prop:hyperbolic_forces_cosh} below).
\item Consequently, the shifted log-lift $H(t)=G(t)+1=\cosh(t)$ automatically satisfies the d'Alembert functional equation.
\end{itemize}
We therefore record Gate~4 as an explicit \emph{derived structure} (and as a convenient alternative characterization), rather than as an independent additional restriction.

\subsection{Definition}

\begin{definition}[d'Alembert Structure]
A cost function $F$ has \emph{d'Alembert structure} if its shifted log-lift $H(t) = F(e^t) + 1$ satisfies the classical d'Alembert functional equation:
\[
H(t+u) + H(t-u) = 2H(t)H(u) \quad\text{for all } t, u \in \R.
\]
\end{definition}

This is the functional equation studied by Jean le Rond d'Alembert in the 18th century. Its continuous solutions are exactly $H(t) = \cosh(\lambda t)$ for some $\lambda \in \R$ \cite{Aczel1966}.

\subsection{Main Results}

\begin{theorem}[$\Jcost$ Has d'Alembert Structure]\label{thm:J-dAlembert}
The canonical cost $\Jcost$ has d'Alembert structure. The shifted log-lift is $H(t) = \cosh(t)$, which satisfies
\[
\cosh(t+u) + \cosh(t-u) = 2\cosh(t)\cosh(u).
\]
\end{theorem}

\begin{proof}
We have $H(t) = \Jcost(e^t) + 1 = \frac{1}{2}(e^t + e^{-t}) = \cosh(t)$. The d'Alembert identity for $\cosh$ is a standard result: using the addition formulas $\cosh(t+u) = \cosh t \cosh u + \sinh t \sinh u$ and $\cosh(t-u) = \cosh t \cosh u - \sinh t \sinh u$, we obtain
\[
\cosh(t+u) + \cosh(t-u) = 2\cosh t \cosh u. \qedhere
\]
\end{proof}

\begin{theorem}[Counterexample Fails d'Alembert Structure]\label{thm:Fquad-not-dAlembert}
Let $F(x) = \frac{1}{2}(\log x)^2$. Then $F$ does not have d'Alembert structure.
\end{theorem}

\begin{proof}
The shifted log-lift is $H(t) = F(e^t) + 1 = t^2/2 + 1$. Check at $t = u = 1$:
\begin{align*}
H(2) + H(0) &= (4/2 + 1) + 1 = 4, \\
2H(1)H(1) &= 2 \cdot (1/2 + 1)^2 = 2 \cdot (9/4) = 9/2.
\end{align*}
Since $4 \neq 9/2$, the d'Alembert equation fails.
\end{proof}

\subsection{The Key Forcing Theorem}

\begin{theorem}[d'Alembert Structure + Calibration Forces $G = \cosh - 1$]\label{thm:dAlembert-forces-cosh}
Let $G: \R \to \R$ be $C^2$, even, with $G(0) = 0$ and $G''(0) = 1$. If the shifted function $H(t) = G(t) + 1$ satisfies the d'Alembert equation, then $G(t) = \cosh(t) - 1$ for all $t$.
\end{theorem}

\begin{proof}
By Acz\'{e}l's classification theorem \cite{Aczel1966}, continuous solutions to the d'Alembert equation with $H(0) = 1$ have the form $H(t) = \cosh(\lambda t)$ for some $\lambda \in \R$.

Since $G$ is even, so is $H$, hence $H'(0) = 0$. Differentiating $H(t) = \cosh(\lambda t)$ gives $H'(t) = \lambda \sinh(\lambda t)$, so $H'(0) = 0$ is satisfied for all $\lambda$.

Differentiating again: $H''(t) = \lambda^2 \cosh(\lambda t)$, so $H''(0) = \lambda^2$. Since $H = G + 1$ and $G''(0) = 1$, we have $H''(0) = 1$, forcing $\lambda^2 = 1$, hence $\lambda = 1$ (taking $\lambda > 0$).

Therefore $H(t) = \cosh(t)$ and $G(t) = \cosh(t) - 1$.
\end{proof}

\subsection{Interpretation}

In this formulation, the d'Alembert identity should be read as a \emph{structural signature} of the hyperbolic branch. Once Gate~3 selects $G''=G+1$ (excluding the flat branch), the log-lift is already forced to be $G=\cosh-1$, and the d'Alembert equation follows automatically from the standard addition formulas for $\cosh$.

Historically, the d'Alembert functional equation arises in the study of wave propagation and trigonometric identities. Its appearance here connects the RCL to 18th-century functional equation theory.

%==============================================================================
\section{The Complete Proof}
%==============================================================================

\subsection{Convergence of All Four Gates}

The four gates were developed independently, motivated by different intuitions: holism (Gate 1), non-separability (Gate 2), geometric curvature (Gate 3), and classical functional equations (Gate 4). Yet they converge on the same conclusion.

\begin{theorem}[Gates Are Consistent]\label{thm:gates-consistent}
The canonical cost $\Jcost$ passes all four gates:
\begin{enumerate}
\item $\Jcost$ has interaction (the whole exceeds the sum)
\item The RCL combiner is entangling (costs couple irreducibly)
\item The log-lift $\cosh(t) - 1$ satisfies the hyperbolic ODE (curved geometry)
\item The shifted log-lift $\cosh(t)$ satisfies d'Alembert (classical structure)
\end{enumerate}
The counterexample fails all four gates:
\begin{enumerate}
\item $F_{\text{quad}}$ has no interaction (perfectly decomposable)
\item The additive combiner is not entangling (separable)
\item The log-lift $t^2/2$ satisfies the flat ODE (Euclidean geometry)
\item The shifted log-lift $t^2/2 + 1$ does not satisfy d'Alembert
\end{enumerate}
\end{theorem}

\begin{proof}
For $\Jcost$: Theorem~\ref{thm:J-interaction} proves interaction; Theorem~\ref{thm:RCL-entangling} proves entanglement; Theorem~\ref{thm:J-hyperbolic} proves hyperbolic ODE; Theorem~\ref{thm:J-dAlembert} proves d'Alembert structure.

For the counterexample: Theorem~\ref{thm:Fquad-no-interaction} proves no interaction; Theorem~\ref{thm:Padd-not-entangling} proves no entanglement; Theorem~\ref{thm:Fquad-flat} proves flat ODE; Theorem~\ref{thm:Fquad-not-dAlembert} proves no d'Alembert structure.
\end{proof}

\subsection{The Complete Logical Chain}

With the curvature gate (Gate~3) selecting the normalized hyperbolic ODE, the proof is complete. No additional degree of freedom remains:

\begin{enumerate}
\item \textbf{Constant-curvature closure} (Gate 3 assumption): spherical is ruled out by calibration, leaving flat or hyperbolic.
\item \textbf{Flat branch excluded} by interaction (Gate 1) or entanglement (Gate 2), so the hyperbolic ODE $G''=G+1$ is selected.
\item \textbf{Hyperbolic ODE + initial conditions $\Rightarrow$ $G=\cosh-1$} (Proposition~\ref{prop:hyperbolic_forces_cosh}).
\item \textbf{$G=\cosh-1 \Rightarrow H=\cosh$ satisfies d'Alembert} (Gate 4, derived).
\item \textbf{$G=\cosh-1 \Rightarrow F=\Jcost$} (by definition of log-lift).
\item \textbf{$F=\Jcost \Rightarrow P=$ RCL on $[0,\infty)^2$} (Theorem~\ref{thm:P_forced_from_J}, with \emph{no} assumptions on $P$).
\end{enumerate}

Every step is either definitional or machine-verified. The curvature gate is the main modeling closure; d'Alembert structure is recorded as a derived identity and as an alternative classical viewpoint.

\subsection{Two Standard Links (Expanded Proofs)}

For completeness, we now expand two links in the chain that are often treated as ``standard'' and left implicit: (i) solving the hyperbolic ODE, and (ii) forcing the combiner once $F=\Jcost$. (Both are also machine-verified in our Lean development.)

\begin{proposition}[Hyperbolic ODE forces the canonical log-lift]\label{prop:hyperbolic_forces_cosh}
Let $G:\R\to\R$ be twice differentiable and assume
\[
G''(t)=G(t)+1 \quad\text{for all } t\in\R,
\qquad
G(0)=0,
\qquad
G'(0)=0.
\]
Then $G(t)=\cosh(t)-1$ for all $t\in\R$.
\end{proposition}

\begin{proof}
Define $H(t)=G(t)+1$. Then $H''(t)=H(t)$ for all $t$, and the initial conditions become $H(0)=1$ and $H'(0)=0$.

Since $H''=H$ is a constant-coefficient linear ODE, its general $C^2$ solution has the form (see, e.g., \cite{BoyceDiPrima})
\[
H(t)=Ae^{t}+Be^{-t}
\]
for constants $A,B\in\R$. Differentiating gives $H'(t)=Ae^{t}-Be^{-t}$, so the initial conditions yield
\[
H(0)=A+B=1,\qquad H'(0)=A-B=0.
\]
Thus $A=B=\tfrac12$ and therefore
\[
H(t)=\tfrac12(e^{t}+e^{-t})=\cosh(t).
\]
Finally, $G(t)=H(t)-1=\cosh(t)-1$.
\end{proof}

\begin{lemma}[$\Jcost$ satisfies the RCL identity]\label{lem:Jcost_satisfies_RCL}
For all $x,y>0$,
\[
\Jcost(xy)+\Jcost(x/y)=2\Jcost(x)\Jcost(y)+2\Jcost(x)+2\Jcost(y).
\]
\end{lemma}

\begin{proof}
Write $\Jcost(x)=\frac12(x+x^{-1})-1$. Let $a=x+x^{-1}$ and $b=y+y^{-1}$. Then
\[
\Jcost(x)=\tfrac12(a-2),\qquad \Jcost(y)=\tfrac12(b-2).
\]
First compute the left-hand side:
\begin{align*}
\Jcost(xy)+\Jcost(x/y)
&=\left(\tfrac12(xy+(xy)^{-1})-1\right)+\left(\tfrac12(x/y+y/x)-1\right)\\
&=\tfrac12\!\left(xy+\frac{x}{y}+\frac{y}{x}+\frac{1}{xy}\right)-2.
\end{align*}
Next compute the right-hand side:
\begin{align*}
2\Jcost(x)\Jcost(y)+2\Jcost(x)+2\Jcost(y)
&=2\cdot\tfrac12(a-2)\cdot\tfrac12(b-2)+(a-2)+(b-2)\\
&=\tfrac12(a-2)(b-2)+a+b-4\\
&=\tfrac12(ab-2a-2b+4)+a+b-4\\
&=\tfrac12ab-2.
\end{align*}
Finally, expand $ab=(x+x^{-1})(y+y^{-1})=xy+\frac{x}{y}+\frac{y}{x}+\frac{1}{xy}$, so the two expressions match.
\end{proof}

\begin{lemma}[Surjectivity of $\Jcost$ onto $[0,\infty)$]\label{lem:Jcost_surjective}
For every $u\ge 0$ there exists $x>0$ with $\Jcost(x)=u$. In fact, one may take
\[
x=(1+u)+\sqrt{u(u+2)}.
\]
\end{lemma}

\begin{proof}
For $x>0$ we rewrite
\[
\Jcost(x)=\tfrac12(x+x^{-1})-1=\tfrac12\left(\frac{x^2+1-2x}{x}\right)=\frac{(x-1)^2}{2x}.
\]
Fix $u\ge 0$ and solve $\Jcost(x)=u$:
\[
u=\frac{(x-1)^2}{2x}\quad\Longleftrightarrow\quad x^2-2(1+u)x+1=0.
\]
By the quadratic formula,
\[
x=(1+u)\pm\sqrt{(1+u)^2-1}=(1+u)\pm\sqrt{u(u+2)}.
\]
Both roots are positive; choosing the $+$ sign gives the stated $x>0$ with $\Jcost(x)=u$.
\end{proof}

\begin{theorem}[Unconditional forcing of the RCL combiner once $F=\Jcost$]\label{thm:P_forced_from_J}
Let $P:\R^2\to\R$ be any function satisfying multiplicative consistency with $\Jcost$:
\[
\Jcost(xy)+\Jcost(x/y)=P(\Jcost(x),\Jcost(y))\qquad(x,y>0).
\]
Then for all $u,v\ge 0$,
\[
P(u,v)=2uv+2u+2v.
\]
No regularity assumptions on $P$ are required.
\end{theorem}

\begin{proof}
Fix $u,v\ge 0$. By Lemma~\ref{lem:Jcost_surjective}, choose $x,y>0$ such that $\Jcost(x)=u$ and $\Jcost(y)=v$. Then by consistency,
\[
P(u,v)=P(\Jcost(x),\Jcost(y))=\Jcost(xy)+\Jcost(x/y).
\]
By Lemma~\ref{lem:Jcost_satisfies_RCL}, the right-hand side equals
\[
2\Jcost(x)\Jcost(y)+2\Jcost(x)+2\Jcost(y)=2uv+2u+2v.
\]
\end{proof}

\begin{theorem}[Full Inevitability]\label{thm:full_inevitability}
Let $F:\Rplus\to\R$ be a cost function in the sense of Definition~\ref{def:cost_function}, and assume $F$ is multiplicatively consistent with some $P:\R^2\to\R$.
If $F$ has d'Alembert structure (Gate 4), then:
\begin{enumerate}
\item $F(x)=\Jcost(x)$ for all $x>0$, and
\item for all $u,v\ge 0$, $P(u,v)=2uv+2u+2v$.
\end{enumerate}
\end{theorem}

\begin{proof}
Let $G(t)=F(e^t)$ and $H(t)=G(t)+1$. Since $F(1)=0$, we have $G(0)=0$ and $H(0)=1$.
By symmetry and Lemma~\ref{lem:G_even}, $G$ is even and hence $G'(0)=0$.

By assumption (Gate 4), $H$ satisfies the d'Alembert equation. By Theorem~\ref{thm:dAlembert-forces-cosh}, with calibration $G''(0)=1$, we obtain $G(t)=\cosh(t)-1$ for all $t$.

Therefore, for $x>0$,
\[
F(x)=G(\log x)=\cosh(\log x)-1=\frac{e^{\log x}+e^{-\log x}}{2}-1=\frac{x+x^{-1}}{2}-1=\Jcost(x).
\]
This proves (1).

For (2), since $F=\Jcost$ and $F$ is multiplicatively consistent with $P$, we have
\[
\Jcost(xy)+\Jcost(x/y)=P(\Jcost(x),\Jcost(y))\qquad(x,y>0).
\]
Applying Theorem~\ref{thm:P_forced_from_J} yields $P(u,v)=2uv+2u+2v$ for all $u,v\ge 0$.
\end{proof}

\begin{remark}
The conclusion $P(u,v)=2uv+2u+2v$ is asserted on $[0,\infty)^2$, i.e.\ on the range of $(\Jcost(x),\Jcost(y))$. No claim is made about values of $P$ outside this set, which are unconstrained by multiplicative consistency with $F=\Jcost$.
\end{remark}

\subsection{The Four-Gate Structure}

\begin{center}
\begin{tikzpicture}[node distance=1.4cm]
\node[result] (conclusion) {\textbf{$F=\Jcost$}\\\textbf{$P=$ RCL}};
\node[gate, below left=1.8cm and 1.5cm of conclusion] (gate1) {Gate 1\\Interaction};
\node[gate, below left=1.8cm and -0.5cm of conclusion] (gate2) {Gate 2\\Entanglement};
\node[gate, below right=1.8cm and -0.5cm of conclusion] (gate3) {Gate 3\\Curvature};
\node[gate, below right=1.8cm and 1.5cm of conclusion] (gate4) {Gate 4\\d'Alembert (derived)};

\draw[->, thick] (gate1) -- (conclusion);
\draw[->, thick] (gate2) -- (conclusion);
\draw[->, thick, MidnightBlue] (gate3) -- (conclusion);
\draw[->, thick] (gate4) -- (conclusion);

\node[below=0.4cm of gate1, align=center, font=\scriptsize] {$F(xy)+F(x/y)$\\$\neq 2F(x)+2F(y)$};
\node[below=0.4cm of gate2, align=center, font=\scriptsize] {$\partial^2 P/\partial u\partial v$\\$\neq 0$};
\node[below=0.4cm of gate3, align=center, font=\scriptsize] {$G'' = G + 1$};
\node[below=0.4cm of gate4, align=center, font=\scriptsize] {$H(t{+}u)+H(t{-}u)$\\$=2H(t)H(u)$};
\end{tikzpicture}
\end{center}

Each gate excludes the quadratic-log counterexample family. In the present formulation, \textbf{Gate 3 (curvature)} provides the decisive closure: once the hyperbolic ODE is selected (with scale fixed by calibration), the solution is forced and the RCL combiner follows. Gate 4 is then a derived identity satisfied automatically by $H=\cosh$.

%==============================================================================
\section{Machine Verification}
%==============================================================================

\subsection{Verified Results}

The following results are fully machine-verified in Lean 4:

\begin{enumerate}
\item \texttt{Jcost\_hasInteraction}: $\Jcost$ has interaction (Gate 1)
\item \texttt{Fquad\_noInteraction}: The counterexample has no interaction
\item \texttt{Prcl\_entangling}: The RCL combiner is entangling (Gate 2)
\item \texttt{Padd\_not\_entangling}: The additive combiner is not entangling
\item \texttt{interaction\_implies\_entangling}: Interaction forces entanglement
\item \texttt{Gcosh\_satisfies\_hyperbolic}: $\cosh - 1$ satisfies hyperbolic ODE (Gate 3)
\item \texttt{Gquad\_satisfies\_flat}: $t^2/2$ satisfies flat ODE
\item \texttt{curvature\_gate\_dichotomy}: Spherical ruled out by calibration
\item \texttt{Jcost\_has\_dAlembert\_structure}: $\Jcost$ has d'Alembert structure (Gate 4)
\item \texttt{Fquad\_not\_dAlembert\_structure}: Counterexample fails d'Alembert
\item \texttt{dAlembert\_forces\_Jcost}: d'Alembert + calibration $\Rightarrow F = \Jcost$
\item \texttt{rcl\_unconditional}: $F = \Jcost \Rightarrow P = $ RCL (no assumptions on $P$)
\item \texttt{full\_inevitability\_four\_gates}: Complete chain with all four gates
\end{enumerate}

\subsection{Complete Proof Status}

In the present formulation, Gate~3 already fixes the hyperbolic branch (and hence $G=\cosh-1$) once the flat branch is excluded; d'Alembert structure is then a derived identity. In our Lean formalization, the forcing step is conveniently packaged via the equivalent d'Alembert characterization; the only classical axiom used there is the d'Alembert classification theorem (Acz\'{e}l's theorem).

\subsection{File Structure}

\begin{verbatim}
IndisputableMonolith/Foundation/DAlembert/
  Counterexamples.lean      -- Machine-verified counterexample
  NecessityGates.lean       -- Gate 1: Interaction
  EntanglementGate.lean     -- Gate 2: Entanglement
  CurvatureGate.lean        -- Gate 3: Curvature
  FourthGate.lean           -- Gate 4: d'Alembert structure (derived)
  TriangulatedProof.lean    -- Combined four-gate structure
  Unconditional.lean        -- P forced from J
\end{verbatim}

%==============================================================================
\section{Discussion}
%==============================================================================

\subsection{What This Paper Establishes}

We have demonstrated four claims:

\begin{enumerate}
\item \textbf{The counterexample is real.} The function $F(x) = \frac{1}{2}(\log x)^2$ is machine-verified to satisfy every structural axiom while admitting a multiplicatively consistent combiner. ``Mere existence of a combiner'' is insufficient to force the RCL.

\item \textbf{Three gates distinguish physical reality from the counterexample.} Interaction, entanglement, and curvature are independent properties, each with clear physical motivation, and each violated by the counterexample.

\item \textbf{The gates are consistent.} The canonical cost $\Jcost$ passes all three gates; the counterexample fails all three. Thus the gates cleanly separate these two archetypes.

\item \textbf{With the curvature gate as closure, inevitability is complete.} Constant-curvature closure reduces the log-lift to the flat/hyperbolic dichotomy; interaction (or entanglement) excludes the flat branch, forcing $\Jcost$ and hence the RCL---with no assumptions on the form of $P$ on $[0,\infty)^2$.
\end{enumerate}

\subsection{Connections and Analogies}

The three gates admit interpretations beyond pure functional-equation theory:

\begin{description}
\item[Interaction] Non-additivity of costs is analogous to the distinction between extensive and non-extensive thermodynamic quantities, or between product and entangled states in quantum information.

\item[Entanglement] The non-separability of the combiner is formally similar to quantum entanglement, but in this context it refers strictly to the non-vanishing of the mixed second difference.

\item[Curvature] The hyperbolic ODE connects the RCL to the geometry of statistical manifolds, specifically the hyperbolic geometry of the Fisher information metric for certain exponential families.
\end{description}

These connections suggest that the Recognition Composition Law may serve as a canonical structure in information geometry, much as the d'Alembert functional equation serves in the classical theory of functional equations.

\subsection{The Status of the Bridge}

In the present formulation, the main ``bridge'' is Gate~3 itself: the constant-curvature closure that restricts the log-lift to the canonical ODE types. Once that closure is accepted, interaction (or entanglement) excludes the flat branch and calibration excludes the spherical branch, so the hyperbolic solution is uniquely forced. We have machine-verified:
\begin{itemize}
\item That $\Jcost$ has interaction
\item That interaction implies entanglement
\item That the hyperbolic ODE with calibration has a unique solution
\item That $\Jcost$ forces the RCL with no assumptions on $P$
\end{itemize}

An open question remains: can the constant-curvature closure (or an equally strong but more primitive substitute) be derived rather than postulated?

\subsection{Relation to Previous Work}

This paper supersedes earlier ``unconditional inevitability'' claims by:
\begin{enumerate}
\item \textbf{Honesty}: Explicitly identifying the counterexample that naive arguments miss
\item \textbf{Triangulation}: Providing three independent routes rather than one fragile path
\item \textbf{Verification}: Machine-verifying all core results in Lean 4
\item \textbf{Precision}: Isolating the remaining hypothesis precisely and explicitly
\end{enumerate}

The result is stronger because we have confronted the weakness and shown exactly what remains.

\subsection{Classical Heritage}

The Recognition Composition Law is not a novel equation but a calibrated form of the \emph{d'Alembert functional equation}, which dates to the 18th century \cite{Aczel1966, AczelDhombres}. In additive notation, d'Alembert's equation is
\[
f(t+u) + f(t-u) = 2f(t)f(u),
\]
whose continuous solutions are $f(t) = \cosh(\lambda t)$ for some $\lambda$. The RCL arises by passing to multiplicative coordinates $x = e^t$, $y = e^u$, yielding $G(t) = F(e^t)$ with $G(t) = \cosh(t) - 1$ under calibration $G''(0) = 1$.

This classical lineage provides several anchors:
\begin{itemize}
\item The hyperbolic ODE $G'' = G + 1$ arises naturally as the Euler--Lagrange equation for a variational problem with Lagrangian $L = \tfrac12(G')^2 - \tfrac12(G+1)^2$, analogous to the harmonic oscillator in mechanics.
\item The interaction gate corresponds to the classical distinction between \emph{extensive} (additive) and \emph{non-extensive} quantities in thermodynamics \cite{Kannappan2009}.
\item The entanglement gate corresponds to the non-vanishing of mixed second derivatives, a standard condition in the theory of functional equations in several variables \cite{AczelDhombres}.
\end{itemize}

The Three Gates framework thus provides a modern, machine-verifiable treatment of a classical problem: characterizing the multiplicative d'Alembert equation under structural constraints.

\subsection{Open Questions}

Three questions remain:

\begin{enumerate}
\item \textbf{Can the bridge be proved?} Is there a direct derivation showing that interaction forces the hyperbolic ODE, perhaps through a careful analysis of the functional equation?

\item \textbf{Is there a fourth gate?} Could some other physical principle (e.g., monotonicity, convexity, information-theoretic bounds) substitute for the bridge?

\item \textbf{Why $\kappa = -1$?} The hyperbolic curvature is exactly $-1$, not some other negative value. Is this related to the normalization of Planck units, the structure of quantum mechanics, or something deeper?
\end{enumerate}

%==============================================================================
\section{Conclusion}
%==============================================================================

We began with a question: given a cost function satisfying natural structural axioms, what combiners $P$ are compatible with multiplicative consistency?

A machine-verified counterexample shows that the structural axioms alone do not determine $P$: the function $F(x)=\frac12(\log x)^2$ admits the additive combiner $P(u,v)=2u+2v$. To force the RCL combiner $P(u,v)=2uv+2u+2v$, additional conditions are required.

We introduced three such conditions---interaction, entanglement, and hyperbolic curvature---and showed that:
\begin{itemize}
\item The canonical cost $\Jcost$ satisfies all three; the counterexample satisfies none.
\item Interaction unconditionally implies entanglement.
\item Once $F=\Jcost$, the combiner is forced to be the RCL on $[0,\infty)^2$, with no regularity assumptions on $P$.
\item With Gate~3 as the closure (constant curvature) and interaction (or entanglement) excluding the flat branch, the full forcing chain is complete.
\end{itemize}

\begin{center}
{\small
\begin{tabular}{@{}clcc@{}}
\toprule
 & \textbf{Gate} & \textbf{Physical universe} & \textbf{Counterexample universe} \\
\midrule
1 & Interaction & \checkmark & $\times$ \\
2 & Entanglement & \checkmark & $\times$ \\
3 & Hyperbolic curvature & \checkmark & $\times$ \\
4 & d'Alembert structure (derived) & \checkmark & $\times$ \\
\bottomrule
\end{tabular}
}
\end{center}

The four-gate perspective provides robust evidence: multiple independent motivations, all converging on:
\[
F(x) = \frac{1}{2}\left(x + \frac{1}{x}\right) - 1, \qquad P(u,v) = 2uv + 2u + 2v.
\]

An alternative combiner compatible with multiplicative consistency must violate at least one of the gate conditions. The counterexample shows this is possible, but requires abandoning interaction, entanglement, and hyperbolic curvature; the d'Alembert identity is then absent automatically as a consequence of leaving the hyperbolic branch.

With constant-curvature closure and the non-flat gate(s), the Recognition Composition Law is the \emph{unique} combiner compatible with multiplicative consistency on the non-negative quadrant. No further hypothesis is required.

%==============================================================================
\section*{Acknowledgments}
%==============================================================================

This work was machine-verified using the Lean 4 proof assistant \cite{deLean4} with the Mathlib library. The code is available at \url{https://github.com/jonwashburn/reality}.

\begin{thebibliography}{99}

\bibitem{Aczel1966}
J.~Acz\'{e}l.
\newblock \emph{Lectures on Functional Equations and Their Applications}.
\newblock Academic Press, 1966.

\bibitem{AczelDhombres}
J.~Acz\'{e}l and J.~Dhombres.
\newblock \emph{Functional Equations in Several Variables}.
\newblock Cambridge University Press, 1989.

\bibitem{Amari2000}
S.~Amari and H.~Nagaoka.
\newblock \emph{Methods of Information Geometry}.
\newblock American Mathematical Society, 2000.

\bibitem{BoyceDiPrima}
W.~E.~Boyce and R.~C.~DiPrima.
\newblock \emph{Elementary Differential Equations and Boundary Value Problems}.
\newblock Wiley, 10th edition, 2012.

\bibitem{Kannappan2009}
Pl.~Kannappan.
\newblock \emph{Functional Equations and Inequalities with Applications}.
\newblock Springer, 2009.

\bibitem{Kuczma2009}
M.~Kuczma.
\newblock \emph{An Introduction to the Theory of Functional Equations and Inequalities}.
\newblock Birkh\"{a}user, 2nd edition, 2009.

\bibitem{Stetkaer2013}
H.~Stetk{\ae}r.
\newblock \emph{Functional Equations on Groups}.
\newblock World Scientific, 2013.

\bibitem{deLean4}
L.~de Moura and S.~Ullrich.
\newblock The Lean 4 theorem prover and programming language.
\newblock In \emph{CADE-28}, Springer LNCS, 2021.

\end{thebibliography}

\end{document}

